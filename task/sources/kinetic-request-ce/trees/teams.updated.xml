<tree schema_version="1.0">
    <sourceName>Kinetic Request CE</sourceName>
    <sourceGroup>Teams</sourceGroup>
    <type>Tree</type>
    <status>Active</status>
    <taskTree builder_version="" schema_version="1.0" version="">
        <name>Updated</name>
        <author></author>
        <notes></notes>
        <lastID>21</lastID>
        <request>
            <task definition_id="system_start_v1" id="start" name="Start" x="-9" y="1">
                <version>1</version>
                <configured>true</configured>
                <defers>false</defers>
                <deferrable>false</deferrable>
                <visible>false</visible>
                <parameters></parameters>
                <messages></messages>
                <dependents>
                    <task label="" type="Complete" value="">routine_kinetic_request_ce_team_retrieve_v2_19</task>
                    <task label="Has Discussion" type="Complete" value="!@team_attributes['Discussion Id'].nil?">routine_kinetic_discussion_issue_update_v2_21</task>
                </dependents>
            </task>
            <task definition_id="routine_kinetic_request_ce_space_admin_retrieve_v1" id="routine_kinetic_request_ce_space_admin_retrieve_v1_17" name="Find Space Admins" x="187" y="133">
                <version>1</version>
                <configured>true</configured>
                <defers>true</defers>
                <deferrable>true</deferrable>
                <visible>false</visible>
                <parameters>
                    <parameter id="Space Slug" label="Space Slug" menu="" required="false" tooltip="Slug of the space to retrieve">&lt;%= @space['Slug']%&gt;</parameter>
                </parameters>
                <messages>
                    <message type="Create"></message>
                    <message type="Update"></message>
                    <message type="Complete"></message>
                </messages>
                <dependents>
                    <task label="" type="Complete" value="">routine_kinetic_request_ce_team_create_v2_20</task>
                </dependents>
            </task>
            <task definition_id="routine_kinetic_request_ce_team_retrieve_v2" id="routine_kinetic_request_ce_team_retrieve_v2_19" name="Get Default Team" x="184" y="-20">
                <version>1</version>
                <configured>true</configured>
                <defers>true</defers>
                <deferrable>true</deferrable>
                <visible>false</visible>
                <parameters>
                    <parameter id="Space Slug" label="Space Slug" menu="" required="false" tooltip="The Slug of the Space this submission belongs to">&lt;%= @space['Slug']%&gt;</parameter>
                    <parameter id="Team Name" label="Team Name" menu="" required="true" tooltip="Name of the Team to Retrieve">Default</parameter>
                    <parameter id="Return Attributes" label="Return Attributes" menu="" required="false" tooltip="If the function needs to return the teams attributes">true</parameter>
                    <parameter id="Return Members" label="Return Members" menu="" required="false" tooltip="If the function needs to return the teams members">true</parameter>
                </parameters>
                <messages>
                    <message type="Create"></message>
                    <message type="Update"></message>
                    <message type="Complete"></message>
                </messages>
                <dependents>
                    <task label="Doesn't Exist" type="Complete" value="@results['Get Default Team']['Exists'].downcase == &quot;false&quot;">routine_kinetic_request_ce_space_admin_retrieve_v1_17</task>
                </dependents>
            </task>
            <task definition_id="routine_kinetic_request_ce_team_create_v2" id="routine_kinetic_request_ce_team_create_v2_20" name="Create Default Team" x="187" y="275">
                <version>1</version>
                <configured>true</configured>
                <defers>true</defers>
                <deferrable>true</deferrable>
                <visible>false</visible>
                <parameters>
                    <parameter id="Space Slug" label="Space Slug" menu="" required="false" tooltip="Slug of the space to create team in">&lt;%= @space['Slug']%&gt;</parameter>
                    <parameter id="Team Name" label="Team Name" menu="" required="true" tooltip="Name of the Team to Retrieve">Default</parameter>
                    <parameter id="Members JSON" label="Members JSON" menu="" required="false" tooltip="A JSON array of members to add to the team">&lt;%=users = @results['Find Space Admins']['Usernames'].split(", ")
users.to_json%&gt;</parameter>
                </parameters>
                <messages>
                    <message type="Create"></message>
                    <message type="Update"></message>
                    <message type="Complete"></message>
                </messages>
                <dependents></dependents>
            </task>
            <task definition_id="routine_kinetic_discussion_issue_update_v2" id="routine_kinetic_discussion_issue_update_v2_21" name="Update Discussion Issue" x="-1" y="172">
                <version>1</version>
                <configured>true</configured>
                <defers>true</defers>
                <deferrable>true</deferrable>
                <visible>false</visible>
                <parameters>
                    <parameter id="Discussion Id" label="Discussion Id" menu="" required="true" tooltip="Discussion Id">&lt;%= @team_attributes['Discussion Id']%&gt;</parameter>
                    <parameter id="Name" label="Name" menu="" required="false" tooltip="Discussion Name">&lt;%= @team['Name']%&gt;</parameter>
                    <parameter id="Description" label="Description" menu="" required="false" tooltip="Discussion Description"></parameter>
                    <parameter id="Tag List" label="Tag List" menu="" required="false" tooltip="Comma separated list of tags to be applied to this issue">META:TYPE:Team,META:ID:&lt;%=@team['Slug']%&gt;</parameter>
                    <parameter id="Space Slug" label="Space Slug" menu="" required="false" tooltip="Slug of the space to update the discussion in">&lt;%= @space['Slug']%&gt;</parameter>
                </parameters>
                <messages>
                    <message type="Create"></message>
                    <message type="Update"></message>
                    <message type="Complete"></message>
                </messages>
                <dependents></dependents>
            </task>
        </request>
    </taskTree>
</tree>